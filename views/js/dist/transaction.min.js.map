{"version":3,"sources":["webpack://MollieModule.[name]/./src/back/transaction/index.tsx","webpack://MollieModule.[name]/./src/back/transaction/store/actions.ts","webpack://MollieModule.[name]/./src/back/transaction/store/index.ts","webpack://MollieModule.[name]/./src/back/transaction/store/order.ts"],"names":["MolliePanel","lazy","transactionInfo","target","config","translations","currencies","Promise","all","store","default","updateConfig","updateCurrencies","updateOrder","updatePayment","updateTranslations","updateViewportWidth","retrieveOrder","retrievePayment","window","addEventListener","throttle","dispatch","innerWidth","transactionId","substr","render","document","querySelector","ReduxActionTypes","type","order","payment","width","updateWarning","status","orderWarning","devTools","__REDUX_DEVTOOLS_EXTENSION__","createStore","orderApp","state","action","initialViewportwidth","viewportWidth","checkoutApp","combineReducers"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAGA,IAAMA,WAAW,gBAAGC,mDAAI,CAAC;AAAA,SAAM,0MAAN;AAAA,CAAD,CAAxB;AAEe,SAASC,eAAT,CACbC,MADa,EAEbC,MAFa,EAGbC,YAHa,EAIbC,UAJa,EAKP;AACL;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAYWC,OAAO,CAACC,GAAR,CAAY,CACpB,6HADoB,EAEpB,uIAFoB,EAGpB,+HAHoB,CAAZ,CAZX;;AAAA;AAAA;AAAA;AAEcC,iBAFd,0BAEKC,OAFL;AAAA;AAIKC,wBAJL,wBAIKA,YAJL;AAKKC,4BALL,wBAKKA,gBALL;AAMKC,uBANL,wBAMKA,WANL;AAOKC,yBAPL,wBAOKA,aAPL;AAQKC,8BARL,wBAQKA,kBARL;AASKC,+BATL,wBASKA,mBATL;AAAA;AAWKC,yBAXL,yBAWKA,aAXL;AAWoBC,2BAXpB,yBAWoBA,eAXpB;AAkBC;AACAC,kBAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,wDAAQ,CAAC,YAAM;AAC/CZ,mBAAK,CAACa,QAAN,CAAeN,mBAAmB,CAACG,MAAM,CAACI,UAAR,CAAlC;AACD,aAFyC,EAEvC,GAFuC,CAA1C;AAIAd,iBAAK,CAACa,QAAN,CAAeV,gBAAgB,CAACN,UAAD,CAA/B;AACAG,iBAAK,CAACa,QAAN,CAAeP,kBAAkB,CAACV,YAAD,CAAjC;AACAI,iBAAK,CAACa,QAAN,CAAeX,YAAY,CAACP,MAAD,CAA3B;AAEQoB,yBA3BT,GA2B2BpB,MA3B3B,CA2BSoB,aA3BT;;AAAA,kBA4BKA,aAAa,CAACC,MAAd,CAAqB,CAArB,EAAwB,CAAxB,MAA+B,KA5BpC;AAAA;AAAA;AAAA;;AAAA,0BA6BGhB,KA7BH;AAAA,0BA6BkBI,WA7BlB;AAAA;AAAA,mBA6BoCI,aAAa,CAACO,aAAD,CA7BjD;;AAAA;AAAA;AAAA;;AAAA,wBA6BSF,QA7BT;;AAAA;AAAA;;AAAA;AAAA,0BA+BGb,KA/BH;AAAA,0BA+BkBK,aA/BlB;AAAA;AAAA,mBA+BsCI,eAAe,CAACM,aAAD,CA/BrD;;AAAA;AAAA;AAAA;;AAAA,wBA+BSF,QA/BT;;AAAA;AAkCCI,qEAAM,eACJ,4DAAC,8DAAD,CAAc,QAAd;AAAuB,mBAAK,EAAEjB;AAA9B,4BACE,4DAAC,+CAAD;AAAU,sBAAQ,eAAE,4DAAC,uEAAD;AAApB,4BACE,4DAAC,WAAD,OADF,CADF,CADI,EAMJ,OAAON,MAAP,KAAkB,QAAlB,GAA6BwB,QAAQ,CAACC,aAAT,CAAuBzB,MAAvB,CAA7B,GAA8DA,MAN1D,CAAN;;AAlCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAD;AA2CD;AAAA,C;;;;;;;;;;;;AC7FD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGO,IAAK0B,gBAAZ,C,CAUA;;WAVYA,gB;AAAAA,kB;AAAAA,kB;AAAAA,kB;AAAAA,kB;AAAAA,kB;AAAAA,kB;AAAAA,kB;GAAAA,gB,KAAAA,gB;;AA8CL,SAASd,kBAAT,CAA4BV,YAA5B,EAAoF;AACzF,SAAO;AAAEyB,QAAI,EAAED,gBAAgB,CAACd,kBAAzB;AAA6CV,gBAAY,EAAZA;AAA7C,GAAP;AACD;AAEM,SAASO,gBAAT,CAA0BN,UAA1B,EAA4E;AACjF,SAAO;AAAEwB,QAAI,EAAED,gBAAgB,CAACjB,gBAAzB;AAA2CN,cAAU,EAAVA;AAA3C,GAAP;AACD;AAEM,SAASK,YAAT,CAAsBP,MAAtB,EAAuE;AAC5E,SAAO;AAAE0B,QAAI,EAAED,gBAAgB,CAAClB,YAAzB;AAAuCP,UAAM,EAANA;AAAvC,GAAP;AACD;AAEM,SAASS,WAAT,CAAqBkB,KAArB,EAAiE;AACtE,SAAO;AAAED,QAAI,EAAED,gBAAgB,CAAChB,WAAzB;AAAsCkB,SAAK,EAALA;AAAtC,GAAP;AACD;AAEM,SAASjB,aAAT,CAAuBkB,OAAvB,EAAyE;AAC9E,SAAO;AAAEF,QAAI,EAAED,gBAAgB,CAACf,aAAzB;AAAwCkB,WAAO,EAAPA;AAAxC,GAAP;AACD;AAEM,SAAShB,mBAAT,CAA6BiB,KAA7B,EAAwE;AAC7E,SAAO;AAAEH,QAAI,EAAED,gBAAgB,CAACb,mBAAzB;AAA8CiB,SAAK,EAALA;AAA9C,GAAP;AACD;AAEM,SAASC,aAAT,CAAuBC,MAAvB,EAA6D;AAClE,SAAO;AAAEL,QAAI,EAAED,gBAAgB,CAACK,aAAzB;AAAwCE,gBAAY,EAAED;AAAtD,GAAP;AACD,C;;;;;;;;;;;;AC3GD;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,IAAI1B,KAAJ;AACA,IAAM4B,QAAQ,GAAGlB,MAAM,CAACmB,4BAAxB;AAEA7B,KAAK,GAAG8B,yDAAW,CACjBC,8CADiB,EAEjBH,QAAQ,IAAIA,QAAQ,EAFH,CAAnB;AAKe5B,oEAAf,E;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA8BA,IAAMJ,YAAY,GAAG,SAAfA,YAAe,GAAuE;AAAA,MAAtEoC,KAAsE,uEAAzD,EAAyD;AAAA,MAArDC,MAAqD;;AAC1F,UAAQA,MAAM,CAACZ,IAAf;AACE,SAAKD,yDAAgB,CAACd,kBAAtB;AACE,aAAO2B,MAAM,CAACrC,YAAd;;AACF;AACE,aAAOoC,KAAP;AAJJ;AAMD,CAPD;;AASA,IAAMrC,MAAM,GAAG,SAATA,MAAS,GAAsE;AAAA,MAArEqC,KAAqE,uEAAxD,EAAwD;AAAA,MAApDC,MAAoD;;AACnF,UAAQA,MAAM,CAACZ,IAAf;AACE,SAAKD,yDAAgB,CAAClB,YAAtB;AACE,aAAO+B,MAAM,CAACtC,MAAd;;AACF;AACE,aAAOqC,KAAP;AAJJ;AAMD,CAPD;;AASA,IAAMV,KAAK,GAAG,SAARA,KAAQ,GAAgF;AAAA,MAA/EU,KAA+E,uEAAtD,IAAsD;AAAA,MAAhDC,MAAgD;;AAC5F,UAAQA,MAAM,CAACZ,IAAf;AACE,SAAKD,yDAAgB,CAAChB,WAAtB;AACE,aAAO6B,MAAM,CAACX,KAAd;;AACF;AACE,aAAOU,KAAP;AAJJ;AAMD,CAPD;;AASA,IAAMT,OAAO,GAAG,SAAVA,OAAU,GAAsF;AAAA,MAArFS,KAAqF,uEAA1D,IAA0D;AAAA,MAApDC,MAAoD;;AACpG,UAAQA,MAAM,CAACZ,IAAf;AACE,SAAKD,yDAAgB,CAACf,aAAtB;AACE,aAAO4B,MAAM,CAACV,OAAd;;AACF;AACE,aAAOS,KAAP;AAJJ;AAMD,CAPD;;AASA,IAAMnC,UAAU,GAAG,SAAbA,UAAa,GAA2E;AAAA,MAA1EmC,KAA0E,uEAArD,EAAqD;AAAA,MAAjDC,MAAiD;;AAC5F,UAAQA,MAAM,CAACZ,IAAf;AACE,SAAKD,yDAAgB,CAACjB,gBAAtB;AACE,aAAO8B,MAAM,CAACpC,UAAd;;AACF;AACE,aAAOmC,KAAP;AAJJ;AAMD,CAPD;;AASA,IAAME,oBAAoB,GAAGxB,MAAM,CAACI,UAApC;;AACA,IAAMqB,aAAa,GAAG,SAAhBA,aAAgB,GAA8E;AAAA,MAA7EH,KAA6E,uEAArEE,oBAAqE;AAAA,MAA/CD,MAA+C;;AAClG,UAAQA,MAAM,CAACZ,IAAf;AACE,SAAKD,yDAAgB,CAACb,mBAAtB;AACE,aAAO0B,MAAM,CAACT,KAAd;;AACF;AACE,aAAOQ,KAAP;AAJJ;AAMD,CAPD;;AASA,IAAML,YAAY,GAAG,SAAfA,YAAe,GAA2D;AAAA,MAA1DK,KAA0D,uEAA7C,EAA6C;AAAA,MAAzCC,MAAyC;;AAC9E,UAAQA,MAAM,CAACZ,IAAf;AACE,SAAKD,yDAAgB,CAACK,aAAtB;AACE,aAAOQ,MAAM,CAACN,YAAd;;AACF;AACE,aAAOK,KAAP;AAJJ;AAMD,CAPD;;AASA,IAAMI,WAAW,GAAGC,6DAAe,CAAC;AAClCzC,cAAY,EAAZA,YADkC;AAElCD,QAAM,EAANA,MAFkC;AAGlC2B,OAAK,EAALA,KAHkC;AAIlCC,SAAO,EAAPA,OAJkC;AAKlC1B,YAAU,EAAVA,UALkC;AAMlCsC,eAAa,EAAbA,aANkC;AAOlCR,cAAY,EAAZA;AAPkC,CAAD,CAAnC;AAUeS,0EAAf,E","file":"transaction.min.js","sourcesContent":["/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\nimport React, { lazy, Suspense } from 'react';\r\nimport { render } from 'react-dom';\r\nimport { StoreContext } from 'redux-react-hook'\r\nimport { throttle } from 'lodash';\r\n\r\nimport { ICurrencies, IMollieOrderConfig, ITranslations } from '@shared/globals';\r\n\r\nimport LoadingDots from '@shared/components/LoadingDots';\r\nimport {updateWarning} from \"@transaction/store/actions\";\r\n\r\nconst MolliePanel = lazy(() => import('@transaction/components/MolliePanel'));\r\n\r\nexport default function transactionInfo (\r\n  target: any,\r\n  config: IMollieOrderConfig,\r\n  translations: ITranslations,\r\n  currencies: ICurrencies\r\n): void {\r\n  (async function () {\r\n    const [\r\n      { default: store },\r\n      {\r\n        updateConfig,\r\n        updateCurrencies,\r\n        updateOrder,\r\n        updatePayment,\r\n        updateTranslations,\r\n        updateViewportWidth,\r\n      },\r\n      { retrieveOrder, retrievePayment },\r\n    ] = await Promise.all([\r\n      import(/* webpackPrefetch: true, webpackChunkName: \"transaction\" */ '@transaction/store'),\r\n      import(/* webpackPrefetch: true, webpackChunkName: \"transaction\" */ '@transaction/store/actions'),\r\n      import(/* webpackPrefetch: true, webpackChunkName: \"transaction\" */ '@transaction/misc/ajax'),\r\n    ]);\r\n\r\n    // Listen for window resizes\r\n    window.addEventListener('resize', throttle(() => {\r\n      store.dispatch(updateViewportWidth(window.innerWidth));\r\n    }, 200));\r\n\r\n    store.dispatch(updateCurrencies(currencies));\r\n    store.dispatch(updateTranslations(translations));\r\n    store.dispatch(updateConfig(config));\r\n\r\n    const { transactionId } = config;\r\n    if (transactionId.substr(0, 3) === 'ord') {\r\n      store.dispatch(updateOrder(await retrieveOrder(transactionId)));\r\n    } else {\r\n      store.dispatch(updatePayment(await retrievePayment(transactionId)));\r\n    }\r\n\r\n    render(\r\n      <StoreContext.Provider value={store}>\r\n        <Suspense fallback={<LoadingDots/>}>\r\n          <MolliePanel/>\r\n        </Suspense>\r\n      </StoreContext.Provider>,\r\n      typeof target === 'string' ? document.querySelector(target) : target\r\n    );\r\n  }());\r\n};\r\n","/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\n// Action types\r\nimport { ICurrencies, IMollieApiOrder, IMollieApiPayment, IMollieOrderConfig, ITranslations } from '@shared/globals';\r\n\r\nexport enum ReduxActionTypes {\r\n  updateTranslations = 'UPDATE_MOLLIE_ORDER_TRANSLATIONS',\r\n  updateConfig = 'UPDATE_MOLLIE_ORDER_CONFIG',\r\n  updateOrder = 'UPDATE_MOLLIE_ORDER',\r\n  updatePayment = 'UPDATE_MOLLIE_PAYMENT',\r\n  updateWarning = 'UPDATE_MOLLIE_WARNING',\r\n  updateCurrencies = 'UPDATE_MOLLIE_CURRENCIES',\r\n  updateViewportWidth = 'UPDATE_MOLLIE_VIEWPORT_WIDTH',\r\n}\r\n\r\n// Action creators\r\nexport interface IUpdateTranslationsAction {\r\n  type: string;\r\n  translations: ITranslations;\r\n}\r\n\r\nexport interface IUpdateConfigAction {\r\n  type: string;\r\n  config: IMollieOrderConfig;\r\n}\r\n\r\nexport interface IUpdateOrderAction {\r\n  type: string;\r\n  order: IMollieApiOrder;\r\n}\r\n\r\nexport interface IUpdatePaymentAction {\r\n  type: string;\r\n  payment: IMollieApiPayment;\r\n}\r\n\r\nexport interface IUpdateWarningAction {\r\n  type: string;\r\n  orderWarning: string;\r\n}\r\n\r\nexport interface IUpdateCurrenciesAction {\r\n  type: string;\r\n  currencies: ICurrencies;\r\n}\r\n\r\nexport interface IUpdateViewportWidthAction {\r\n  type: string;\r\n  width: number;\r\n}\r\n\r\nexport function updateTranslations(translations: ITranslations): IUpdateTranslationsAction {\r\n  return { type: ReduxActionTypes.updateTranslations, translations };\r\n}\r\n\r\nexport function updateCurrencies(currencies: ICurrencies): IUpdateCurrenciesAction {\r\n  return { type: ReduxActionTypes.updateCurrencies, currencies };\r\n}\r\n\r\nexport function updateConfig(config: IMollieOrderConfig): IUpdateConfigAction {\r\n  return { type: ReduxActionTypes.updateConfig, config };\r\n}\r\n\r\nexport function updateOrder(order: IMollieApiOrder): IUpdateOrderAction {\r\n  return { type: ReduxActionTypes.updateOrder, order };\r\n}\r\n\r\nexport function updatePayment(payment: IMollieApiPayment): IUpdatePaymentAction {\r\n  return { type: ReduxActionTypes.updatePayment, payment };\r\n}\r\n\r\nexport function updateViewportWidth(width: number): IUpdateViewportWidthAction {\r\n  return { type: ReduxActionTypes.updateViewportWidth, width };\r\n}\r\n\r\nexport function updateWarning(status: string): IUpdateWarningAction {\r\n  return { type: ReduxActionTypes.updateWarning, orderWarning: status };\r\n}","/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\nimport { createStore, Store } from 'redux';\r\nimport orderApp from './order';\r\n\r\ndeclare let window: any;\r\n\r\nlet store: Store;\r\nconst devTools = window.__REDUX_DEVTOOLS_EXTENSION__;\r\n\r\nstore = createStore(\r\n  orderApp,\r\n  devTools && devTools(),\r\n);\r\n\r\nexport default store;\r\n","/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\nimport { combineReducers } from 'redux';\r\nimport {\r\n  IUpdateConfigAction,\r\n  IUpdateCurrenciesAction,\r\n  IUpdateOrderAction,\r\n  IUpdatePaymentAction,\r\n  IUpdateTranslationsAction,\r\n  IUpdateViewportWidthAction, IUpdateWarningAction,\r\n  ReduxActionTypes\r\n} from '@transaction/store/actions';\r\nimport {\r\n  ICurrencies,\r\n  IMollieApiOrder,\r\n  IMollieApiPayment,\r\n  IMollieOrderConfig,\r\n  IMollieOrderDetails,\r\n  ITranslations\r\n} from '@shared/globals';\r\n\r\ndeclare global {\r\n  interface IMollieOrderState {\r\n    translations: ITranslations;\r\n    config: IMollieOrderConfig;\r\n    viewportWidth: number;\r\n    order: IMollieApiOrder;\r\n    payment: IMollieApiPayment;\r\n    currencies: ICurrencies;\r\n    orderWarning: string;\r\n  }\r\n}\r\n\r\nconst translations = (state: any = {}, action: IUpdateTranslationsAction): ITranslations => {\r\n  switch (action.type) {\r\n    case ReduxActionTypes.updateTranslations:\r\n      return action.translations;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst config = (state: any = {}, action: IUpdateConfigAction): IMollieOrderConfig => {\r\n  switch (action.type) {\r\n    case ReduxActionTypes.updateConfig:\r\n      return action.config;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst order = (state: IMollieApiOrder = null, action: IUpdateOrderAction): IMollieApiOrder => {\r\n  switch (action.type) {\r\n    case ReduxActionTypes.updateOrder:\r\n      return action.order;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst payment = (state: IMollieApiPayment = null, action: IUpdatePaymentAction): IMollieApiPayment => {\r\n  switch (action.type) {\r\n    case ReduxActionTypes.updatePayment:\r\n      return action.payment;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst currencies = (state: ICurrencies = {}, action: IUpdateCurrenciesAction): ICurrencies => {\r\n  switch (action.type) {\r\n    case ReduxActionTypes.updateCurrencies:\r\n      return action.currencies;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialViewportwidth = window.innerWidth;\r\nconst viewportWidth = (state = initialViewportwidth, action: IUpdateViewportWidthAction): number => {\r\n  switch (action.type) {\r\n    case ReduxActionTypes.updateViewportWidth:\r\n      return action.width;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst orderWarning = (state: any = {}, action: IUpdateWarningAction): string => {\r\n  switch (action.type) {\r\n    case ReduxActionTypes.updateWarning:\r\n      return action.orderWarning;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst checkoutApp = combineReducers({\r\n  translations,\r\n  config,\r\n  order,\r\n  payment,\r\n  currencies,\r\n  viewportWidth,\r\n  orderWarning,\r\n});\r\n\r\nexport default checkoutApp;\r\n"],"sourceRoot":""}