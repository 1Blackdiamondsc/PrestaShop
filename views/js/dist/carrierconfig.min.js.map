{"version":3,"sources":["webpack://MollieModule.[name]/./src/back/carrierconfig/components/CarrierConfig.tsx","webpack://MollieModule.[name]/./src/back/carrierconfig/components/CarrierConfigError.tsx","webpack://MollieModule.[name]/./src/back/carrierconfig/index.tsx","webpack://MollieModule.[name]/./src/back/carrierconfig/store/actions.ts","webpack://MollieModule.[name]/./src/back/carrierconfig/store/carriers.ts","webpack://MollieModule.[name]/./src/back/carrierconfig/store/index.ts","webpack://MollieModule.[name]/./src/shared/axios.ts"],"names":["ConfigCarrierError","lazy","CarrierConfig","props","useState","undefined","carriers","setCarriers","message","setMessage","_init","ajaxEndpoint","config","axios","get","data","console","error","Error","_carrierConfig","carrierConfig","forEach","carrier","id_carrier","_updateCarrierConfig","id","key","value","newCarriers","cloneDeep","find","item","useEffect","then","translations","target","legacy","Array","isArray","isEmpty","cx","hereYouCanConfigureCarriers","youCanUseTheFollowingVariables","shippingNumber","invoiceCountryCode","invoicePostcode","deliveryCountryCode","deliveryPostcode","languageCode","name","urlSource","customUrl","map","source","doNotAutoShip","noTrackingInformation","carrierUrl","module","custom_url","JSON","stringify","Code","styled","code","retry","useCallback","useMappedState","state","unableToLoadCarriers","e","preventDefault","faRedoAlt","Promise","all","store","default","updateConfig","updateTranslations","dispatch","render","document","getElementById","ReduxActionTypes","type","action","checkoutApp","combineReducers","devTools","window","__REDUX_DEVTOOLS_EXTENSION__","createStore","carriersApp","create","transformResponse","res","parse","replace","headers"],"mappings":"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","file":"carrierconfig.min.js","sourcesContent":["/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\nimport React, { ReactElement, Suspense, useEffect, useState, lazy } from 'react';\r\nimport cx from 'classnames';\r\nimport { cloneDeep, find, forEach, isEmpty } from 'lodash';\r\n\r\nimport axios from '@shared/axios';\r\nimport LoadingDots from '@shared/components/LoadingDots';\r\nimport {\r\n  IMollieCarrierConfig,\r\n  IMollieCarrierConfigItem,\r\n  IMollieCarrierConfigItems,\r\n  ITranslations,\r\n} from '@shared/globals';\r\n\r\nconst ConfigCarrierError = lazy(() => import(/* webpackChunkName: \"carrierconfig\" */ '@carrierconfig/components/CarrierConfigError'));\r\n\r\ninterface IProps {\r\n  config: IMollieCarrierConfig;\r\n  translations: ITranslations;\r\n  target: string;\r\n}\r\n\r\nexport default function CarrierConfig(props: IProps): ReactElement<{}> {\r\n  const [carriers, setCarriers] = useState<Array<IMollieCarrierConfigItem>>(undefined);\r\n  const [message, setMessage] = useState<string>(undefined);\r\n\r\n  async function _init(): Promise<void> {\r\n    const { config: { ajaxEndpoint } } = props;\r\n    try {\r\n      const { data: { carriers } = { carriers: null } } = await axios.get(ajaxEndpoint);\r\n      setCarriers(carriers);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setCarriers(null);\r\n      setMessage((e && e instanceof Error) ? e.message : 'Check the browser console for errors');\r\n    }\r\n  }\r\n\r\n  function _carrierConfig(): IMollieCarrierConfigItems {\r\n    const carrierConfig: IMollieCarrierConfigItems = {};\r\n    forEach(carriers, (carrier: IMollieCarrierConfigItem) => {\r\n      carrierConfig[carrier.id_carrier] = carrier;\r\n    });\r\n\r\n    return carrierConfig;\r\n  }\r\n\r\n  function _updateCarrierConfig(id: string, key: string, value: string|null): void {\r\n    const newCarriers = cloneDeep(carriers);\r\n    const config = find(newCarriers, (item: IMollieCarrierConfigItem) => item.id_carrier === id);\r\n    if (typeof config === 'undefined') {\r\n      return;\r\n    }\r\n    config[key] = value;\r\n\r\n    setCarriers(newCarriers);\r\n  }\r\n\r\n  useEffect(() => {\r\n    _init().then();\r\n  }, []);\r\n\r\n  const { translations, target, config: { legacy } } = props;\r\n\r\n  if (typeof carriers === 'undefined') {\r\n    return <LoadingDots/>;\r\n  }\r\n\r\n  if (!Array.isArray(carriers) || (Array.isArray(carriers) && isEmpty(carriers))) {\r\n    return (\r\n      <Suspense fallback={null}>\r\n        <ConfigCarrierError message={message} retry={_init}/>\r\n      </Suspense>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={cx({\r\n        'alert': !legacy,\r\n        'alert-info': !legacy,\r\n        'warn': legacy,\r\n      })}\r\n      >\r\n        {translations.hereYouCanConfigureCarriers}\r\n        <br/>{translations.youCanUseTheFollowingVariables}\r\n        <ul>\r\n          <li><strong>@ </strong>: {translations.shippingNumber}</li>\r\n          <li><strong>%%shipping_number%% </strong>: {translations.shippingNumber}</li>\r\n          <li><strong>%%invoice.country_iso%%</strong>: {translations.invoiceCountryCode}</li>\r\n          <li><strong>%%invoice.postcode%% </strong>: {translations.invoicePostcode}</li>\r\n          <li><strong>%%delivery.country_iso%%</strong>: {translations.deliveryCountryCode}</li>\r\n          <li><strong>%%delivery.postcode%% </strong>: {translations.deliveryPostcode}</li>\r\n          <li><strong>%%lang_iso%% </strong>: {translations.languageCode}</li>\r\n        </ul>\r\n      </div>\r\n      <table className=\"list form alternate table\">\r\n        <thead>\r\n          <tr>\r\n            <td className=\"left\">{translations.name}</td>\r\n            <td className=\"left\">{translations.urlSource}</td>\r\n            <td className=\"left\">{translations.customUrl}</td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {carriers.map((carrier) => (\r\n            <tr key={carrier.id_carrier}>\r\n              <td className=\"left\">\r\n                {carrier.name}\r\n              </td>\r\n              <td className=\"left\">\r\n                <select\r\n                  value={carrier.source}\r\n                  onChange={({ target: { value } }) => _updateCarrierConfig(carrier.id_carrier, 'source', value)}\r\n                >\r\n                  <option value=\"do_not_auto_ship\">{translations.doNotAutoShip}</option>\r\n                  <option value=\"no_tracking_info\">{translations.noTrackingInformation}</option>\r\n                  <option value=\"carrier_url\">{translations.carrierUrl}</option>\r\n                  <option value=\"custom_url\">{translations.customUrl}</option>\r\n                  {carrier.module && <option value=\"module\">{translations.module}</option>}\r\n                </select>\r\n              </td>\r\n              <td className=\"left\">\r\n                <input\r\n                  type=\"text\"\r\n                  disabled={carrier.source !== 'custom_url'}\r\n                  value={carrier.custom_url}\r\n                  onChange={({ target: { value } }) => _updateCarrierConfig(carrier.id_carrier, 'custom_url', value)}\r\n                />\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <input type=\"hidden\" id={target} name={target} value={JSON.stringify(_carrierConfig())}/>\r\n    </>\r\n  );\r\n}\r\n","/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\nimport React, { ReactElement, useCallback } from 'react';\r\nimport cx from 'classnames';\r\nimport { faRedoAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport styled from 'styled-components';\r\n\r\nimport { IMollieCarrierConfig, ITranslations } from '@shared/globals';\r\nimport { useMappedState } from 'redux-react-hook';\r\n\r\ninterface IProps {\r\n  retry: Function;\r\n  message?: string;\r\n}\r\n\r\nconst Code = styled.code`\r\n  font-size: 14px!important;\r\n` as any;\r\n\r\nexport default function ConfigCarrierError({ retry, message }: IProps): ReactElement<{}> {\r\n  const { translations, config: { legacy } }: Partial<IMollieOrderState> = useCallback(useMappedState((state: IMollieCarriersState): any => ({\r\n    translations: state.translations,\r\n    config: state.config,\r\n  })), []);\r\n\r\n  return (\r\n    <div\r\n      className={cx({\r\n        'alert': !legacy,\r\n        'alert-danger': !legacy,\r\n        'error': legacy,\r\n      })}\r\n    >\r\n      {translations.unableToLoadCarriers}&nbsp;\r\n      {message && <><br/><br/>{translations.error}: <Code>{message}</Code><br/><br/></>}\r\n      <button\r\n        className={cx({\r\n          'btn': !legacy,\r\n          'btn-danger': !legacy,\r\n          'button': legacy,\r\n        })}\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          retry();\r\n        }}\r\n      >\r\n        {!legacy && <FontAwesomeIcon icon={faRedoAlt}/>}&nbsp;{translations.retry}?\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\nimport React from 'react';\r\nimport { StoreContext } from 'redux-react-hook';\r\nimport { render } from 'react-dom';\r\n\r\nimport { IMollieCarrierConfig, ITranslations } from '@shared/globals';\r\n\r\nexport default (\r\n  target: string,\r\n  config: IMollieCarrierConfig,\r\n  translations: ITranslations\r\n) => {\r\n  (async function() {\r\n    const [\r\n      { default: store },\r\n      { updateConfig, updateTranslations },\r\n      { default: CarrierConfig },\r\n    ] = await Promise.all([\r\n      import(/* webpackChunkName: \"carrierconfig\" */ '@carrierconfig/store'),\r\n      import(/* webpackChunkName: \"carrierconfig\" */ '@carrierconfig/store/actions'),\r\n      import(/* webpackChunkName: \"carrierconfig\" */ '@carrierconfig/components/CarrierConfig'),\r\n    ]);\r\n\r\n    store.dispatch(updateConfig(config));\r\n    store.dispatch(updateTranslations(translations));\r\n\r\n    return render(\r\n      (\r\n        <StoreContext.Provider value={store}>\r\n          <CarrierConfig translations={translations} config={config} target={target}/>\r\n        </StoreContext.Provider>\r\n      ),\r\n      document.getElementById(`${target}_container`)\r\n    );\r\n  }());\r\n};\r\n","/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\n// Action types\r\nimport { IMollieCarrierConfig, ITranslations } from '@shared/globals';\r\n\r\nexport enum ReduxActionTypes {\r\n  updateTranslations = 'UPDATE_MOLLIE_CARRIER_TRANSLATIONS',\r\n  updateConfig = 'UPDATE_MOLLIE_CARRIER_CONFIG',\r\n}\r\n\r\n// Action creators\r\nexport interface IUpdateTranslationsAction {\r\n  type: string;\r\n  translations: ITranslations;\r\n}\r\n\r\nexport interface IUpdateCarrierConfigAction {\r\n  type: string;\r\n  config: IMollieCarrierConfig;\r\n}\r\n\r\nexport function updateTranslations(translations: ITranslations): IUpdateTranslationsAction {\r\n  return { type: ReduxActionTypes.updateTranslations, translations };\r\n}\r\n\r\nexport function updateConfig(config: IMollieCarrierConfig): IUpdateCarrierConfigAction {\r\n  return { type: ReduxActionTypes.updateConfig, config };\r\n}\r\n","/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\nimport { combineReducers } from 'redux';\r\n\r\nimport { IUpdateCarrierConfigAction, IUpdateTranslationsAction, ReduxActionTypes } from '@carrierconfig/store/actions';\r\nimport { IMollieCarrierConfig, IMollieCarrierConfigItem, ITranslations } from '@shared/globals';\r\n\r\ndeclare global {\r\n  interface IMollieCarriersState {\r\n    translations: ITranslations;\r\n    config: IMollieCarrierConfig;\r\n    carriers: Array<IMollieCarrierConfigItem>;\r\n  }\r\n}\r\n\r\nconst translations = (state: any = {}, action: IUpdateTranslationsAction): ITranslations => {\r\n  switch (action.type) {\r\n    case ReduxActionTypes.updateTranslations:\r\n      return action.translations;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst config = (state: any = {}, action: IUpdateCarrierConfigAction): IMollieCarrierConfig => {\r\n  switch (action.type) {\r\n    case ReduxActionTypes.updateConfig:\r\n      return action.config;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst checkoutApp = combineReducers({\r\n  translations,\r\n  config,\r\n});\r\n\r\nexport default checkoutApp;\r\n","/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\nimport { createStore, Store } from 'redux';\r\n\r\nimport carriersApp from '@carrierconfig/store/carriers';\r\n\r\ndeclare let window: any;\r\n\r\nlet store: Store;\r\nconst devTools = window.__REDUX_DEVTOOLS_EXTENSION__;\r\n\r\nstore = createStore(\r\n  carriersApp,\r\n  devTools && devTools(),\r\n);\r\n\r\nexport default store;\r\n","/**\r\n * Copyright (c) 2012-2020, Mollie B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * - Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * - Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\r\n * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\r\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\r\n * DAMAGE.\r\n *\r\n * @author     Mollie B.V. <info@mollie.nl>\r\n * @copyright  Mollie B.V.\r\n * @license    Berkeley Software Distribution License (BSD-License 2) http://www.opensource.org/licenses/bsd-license.php\r\n * @category   Mollie\r\n * @package    Mollie\r\n * @link       https://www.mollie.nl\r\n */\r\nimport axios from 'axios';\r\n\r\nexport default axios.create({\r\n  transformResponse: [res => JSON.parse(res.replace(/^[^{[]*/mg, '').replace(/([^}\\]]*)$/mg, ''))],\r\n  headers: {\r\n    'X-Requested-With': 'XMLHttpRequest',\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n  },\r\n});\r\n\r\n"],"sourceRoot":""}